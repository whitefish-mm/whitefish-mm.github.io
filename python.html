<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Begin Jekyll SEO tag v2.7.1 -->
    <title>TechSalam</title>
    <meta name="generator" content="Jekyll v3.9.0" />
    <meta property="og:title" content="Markup: Syntax Highlighting" />
    <meta name="author" content="Michael Rose" />
    <meta property="og:locale" content="en_US" />
    <meta
      name="description"
      content="Post displaying the various ways one can highlight code blocks with Jekyll. Some options include standard Markdown, GitHub Flavored Markdown, and Jekyll’s {% highlight %} tag."
    />
    <meta
      property="og:description"
      content="Post displaying the various ways one can highlight code blocks with Jekyll. Some options include standard Markdown, GitHub Flavored Markdown, and Jekyll’s {% highlight %} tag."
    />
    <link
      rel="canonical"
      href="https://mmistakes.github.io/so-simple-theme/markup-syntax-highlighting/"
    />
    <meta
      property="og:url"
      content="https://mmistakes.github.io/so-simple-theme/markup-syntax-highlighting/"
    />
    <meta property="og:site_name" content="So Simple" />
    <meta property="og:type" content="article" />
    <meta
      property="article:published_time"
      content="2013-08-16T00:00:00+00:00"
    />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Markup: Syntax Highlighting" />
    <meta name="twitter:site" content="@mmistakes" />
    <meta name="twitter:creator" content="@mmistakes" />
    <meta
      name="google-site-verification"
      content="UQj93ERU9zgECodaaXgVpkjrFn9UrDMEzVamacSoQ8Y"
    />
    <script type="application/ld+json">
      {
        "description": "Post displaying the various ways one can highlight code blocks with Jekyll. Some options include standard Markdown, GitHub Flavored Markdown, and Jekyll’s {% highlight %} tag.",
        "url": "https://mmistakes.github.io/so-simple-theme/markup-syntax-highlighting/",
        "@type": "BlogPosting",
        "headline": "Markup: Syntax Highlighting",
        "dateModified": "2017-03-09T15:27:01+00:00",
        "datePublished": "2013-08-16T00:00:00+00:00",
        "publisher": {
          "@type": "Organization",
          "logo": {
            "@type": "ImageObject",
            "url": "https://mmistakes.github.io/so-simple-theme/images/so-simple-site-logo.png"
          },
          "name": "Michael Rose"
        },
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://mmistakes.github.io/so-simple-theme/markup-syntax-highlighting/"
        },
        "author": { "@type": "Person", "name": "Michael Rose" },
        "@context": "https://schema.org"
      }
    </script>
    <!-- End Jekyll SEO tag -->

    <script>
      /* Cut the mustard */
      if ('querySelector' in document && 'addEventListener' in window) {
        document.documentElement.className =
          document.documentElement.className.replace(/\bno-js\b/g, '') + 'js'
      }
    </script>

    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/css/default.css" />
    <link rel="stylesheet"
    href="./prism.css">
<script src="./prism.js"></script>   <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,700,700i|Lora:400,400i,700,700i"
    />
    <link
      rel="alternate"
      type="application/atom+xml"
      title="So Simple"
      href="/so-simple-theme/atom.xml"
    />
    <style>
      p{
        text-align: justify;
      }
    </style>
    <!-- start custom head snippets -->

    <!-- insert favicons. use http://realfavicongenerator.net/ -->

    <!-- end custom head snippets -->
  </head>

  <body class="layout--post markup-syntax-highlighting">
    <nav class="skip-links">
      <h2 class="screen-reader-text">Skip links</h2>
      <ul>
        <li>
          <a href="#primary-nav" class="screen-reader-shortcut">
            Skip to primary navigation
          </a>
        </li>
        <li>
          <a href="#main" class="screen-reader-shortcut">Skip to content</a>
        </li>
        <li>
          <a href="#footer" class="screen-reader-shortcut">Skip to footer</a>
        </li>
      </ul>
    </nav>

    <div class="navigation-wrapper">
      <a href="#menu-toggle" id="menu-toggle">Menu</a>
      <nav id="primary-nav" class="site-nav animated drop">
        <ul>
          <li><a href="./index.html">Home</a></li>
          <li><a href="./about.html">About</a></li>
          <li><a href="https://github.com/whitefish-mm">GitHub</a></li>
        </ul>
      </nav>
    </div>
    <!-- /.navigation-wrapper -->

    <header class="masthead">
      <div class="wrap">
        <a
          href="./index.html"
          class="site-logo"
          rel="home"
          title="So Simple"
        >
          <img
            src="./img/a.jpg"
            class="site-logo-img animated fadeInDown"
            alt="So Simple"
          />
        </a>

        <h1 class="site-title animated fadeIn">
          <a href="./index.html">TechSalam</a>
        </h1>

        <p class="site-description animated fadeIn" style="text-align: center;" itemprop="description">
          Exploring the Cutting Edge of Technology with Abdelsalam Elomda
        </p>
      </div>
    </header>
    <!-- /.masthead -->

    <main id="main" class="main-content" aria-label="Content">
      <article class="h-entry">
        <div class="page-wrapper">
          <header class="page-header">
            <h1 id="page-title" class="page-title p-name">
              Demystifying Python Decorators
            </h1>
          </header>

          <div class="page-sidebar">
            <div class="page-author h-card p-author">
              <img
                src="./img/a.jpg"
                class="author-avatar u-photo"
                alt="Michael Rose"
              />
              <div class="author-info">
                <div class="author-name">
                  <em>by</em>
                  <span class="p-name">Abdelsalam Elomda</span>
                </div>
                <ul class="author-links">
                  <li class="author-link">
                    <a
                      class="u-url"
                      rel="me"
                      href="https://github.com/whitefish-mm"
                    >
                      <i class="fab fa-github-square fa-lg" title="GitHub"></i>
                    </a>
                  </li>
                </ul>

                <time
                  class="page-date dt-published"
                  datetime="2013-08-16T00:00:00+00:00"
                >
                  <a class="u-url" href="">October 24, 2019</a>
                </time>
              </div>
            </div>
          </div>

          <div class="page-content">
            <div class="e-content">

              <p>
                Today I want to talk to you about Python decorators. I remember when I first encountered decorators back in 2015 while preparing for the Cairo University Programming Contest. I was fascinated by how they could simplify and enhance my code. So, without further ado, let's dive into decorators and see how they can level up our Python skills!</p>

                <h4>What are Decorators?</h4>

                <p>Decorators in Python are a powerful feature that allows you to "decorate" or "wrap" a function or method, modifying its behavior without changing its core functionality. They are an example of the decorator pattern in software design and are particularly useful for adding functionality that is common across multiple functions, such as logging, memoization, or access control.</p>

                <p>To understand decorators better, let's start with a simple example:
                </p>

<pre><code class="language-py">def greet(name):
    return f"Hello, {name}!"

def excited_greet(name):
    return f"Hello, {name}!!!"

print(greet("Abdelsalam"))
print(excited_greet("Abdelsalam"))</code></pre>
<br/>
             
<p>Now, suppose we want to add a timestamp to the greeting messages. We could modify both functions, but that would mean duplicating code, and we don't want that! Instead, let's create a decorator that adds the timestamp for us:</p>


<pre><code class="language-py">from datetime import datetime

def timestamp_decorator(func):
    def wrapper(*args, **kwargs):
        timestamp = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
        result = func(*args, **kwargs)
        return f"{timestamp} - {result}"
    return wrapper

@timestamp_decorator
def greet(name):
    return f"Hello, {name}!"

@timestamp_decorator
def excited_greet(name):
    return f"Hello, {name}!!!"

print(greet("Abdelsalam"))
print(excited_greet("Abdelsalam"))</code></pre>
<br/>

<p>By using the @timestamp_decorator before our greet and excited_greet functions, we "wrap" them with the decorator, which adds the timestamp to the output. The *args and **kwargs in the wrapper function ensure that it can handle any number of positional and keyword arguments.</p>

<h4>Creating Your Own Decorator</h4>

<p>Now that you've seen a simple example let's create a custom decorator step by step. We'll make a decorator that measures the execution time of a function:</p>

<p>1. Define the decorator function, which takes another function as its argument:</p>




<pre><code class="language-py">def timer_decorator(func):</code></pre>
<br/>

<p>2. Inside the decorator, create a wrapper function that will be called instead of the original function:</p>

<pre><code class="language-py">def timer_decorator(func):
def wrapper(*args, **kwargs):</code></pre>
<br/>

<p>Inside the wrapper function, add the code to measure the execution time, and call the original function:</p>

<pre><code class="language-py">from time import time

def timer_decorator(func):
    def wrapper(*args, **kwargs):
        start_time = time()
        result = func(*args, **kwargs)
        end_time = time()
        duration = end_time - start_time
        print(f"{func.__name__} took {duration:.2f} seconds to execute.")
        return result
    return wrapper</code></pre>
<br/>

<p>4. Apply the decorator to any function you want to measure:</p>


<pre><code class="language-py">import time

@timer_decorator
def slow_function():
    time.sleep(2)
    print("I'm a slow function!")

slow_function()</code></pre>
<br/>


<pre><code>
Output
I'm a slow function!
slow_function took 2.00 seconds to execute.</code></pre>
<br/>

<p>Now we have a reusable `timer_decorator` that can measure the execution time of any function, without having to modify the original function's code.
</p>


<h4>Decorators with Arguments</h4>

<p>Sometimes you might need to create a decorator that takes arguments. For instance, let's say we want to create a `retry_decorator` that retries a function if it fails, with a specified number of retries. We can achieve this by adding another layer of nesting:
</p>

<pre><code class="language-py">import random

def retry_decorator(max_retries):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for attempt in range(max_retries + 1):
                try:
                    result = func(*args, **kwargs)
                    print(f"Success on attempt {attempt + 1}")
                    return result
                except Exception as e:
                    if attempt == max_retries:
                        print(f"Failed after {max_retries} attempts")
                        raise e
                    print(f"Attempt {attempt + 1} failed. Retrying...")
        return wrapper
    return decorator

@retry_decorator(3)
def unreliable_function():
    if random.random() < 0.7:
        raise Exception("Failed")
    return "Success"

print(unreliable_function())</code></pre>
<br/>

<p>In this example, the retry_decorator takes an argument max_retries and then returns the actual decorator function. This allows us to pass arguments to our decorators and make them more flexible.</p>

<h4>Conclusion</h4>

<p>Python decorators are a powerful tool that can help you write cleaner, more modular code. In this tutorial, we covered the basics of creating and using decorators, along with some practical examples. I hope you find this knowledge as useful as I did when I first encountered decorators, and I encourage you to explore further and create your own decorators to enhance your Python projects. Happy coding!</p>

            </div>
          </div>
        </div>
      </article>
    </main>

    <footer id="footer" class="site-footer">
      <script
        async
        src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
      ></script>
      <div align="center" style="margin: 1em 0;">
        <ins
          class="adsbygoogle"
          style="display: block; border-bottom: initial;"
          data-ad-client="ca-pub-7328585512091257"
          data-ad-slot="3049671934"
          data-ad-format="auto"
        ></ins>
      </div>
      <script>
        ;(adsbygoogle = window.adsbygoogle || []).push({})
      </script>
      <div class="social-icons">
        <a class="social-icon" href="https://github.com/whitefish-mm">
          <i class="fab fa-github-square fa-2x" title="GitHub"></i>
        </a>
      </div>
      <div class="copyright">
        <p style="text-align: center;">
          &copy; 2023 Abdelsalam Elomda. Follow me on
          <a href="https://github.com/whitefish-mm">my GitHub</a>
        </p>
      </div>
    </footer>

    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script src="./assets/js/main.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>
    <script>
      if (
        !(
          window.doNotTrack === '1' ||
          navigator.doNotTrack === '1' ||
          navigator.doNotTrack === 'yes' ||
          navigator.msDoNotTrack === '1'
        )
      ) {
        ;(function (i, s, o, g, r, a, m) {
          i['GoogleAnalyticsObject'] = r
          ;(i[r] =
            i[r] ||
            function () {
              ;(i[r].q = i[r].q || []).push(arguments)
            }),
            (i[r].l = 1 * new Date())
          ;(a = s.createElement(o)), (m = s.getElementsByTagName(o)[0])
          a.async = 1
          a.src = g
          m.parentNode.insertBefore(a, m)
        })(
          window,
          document,
          'script',
          'https://www.google-analytics.com/analytics.js',
          'ga',
        )
        ga('create', 'UA-2011187-2', 'auto')
        ga('send', 'pageview')
      }
    </script>

    <!-- MathJax -->

    <script>
      // http://docs.mathjax.org/en/latest/upgrading/v2.html
      MathJax = {
        tex: {
          tags: 'ams', // eq numbering options: none, ams, all
        },
        options: {
          renderActions: {
            // for mathjax 3, handle <script "math/tex"> blocks inserted by kramdown
            find: [
              10,
              function (doc) {
                for (const node of document.querySelectorAll(
                  'script[type^="math/tex"]',
                )) {
                  const display = !!node.type.match(/; *mode=display/)
                  const math = new doc.options.MathItem(
                    node.textContent,
                    doc.inputJax[0],
                    display,
                  )
                  const text = document.createTextNode('')
                  node.parentNode.replaceChild(text, node)
                  math.start = { node: text, delim: '', n: 0 }
                  math.end = { node: text, delim: '', n: 0 }
                  doc.math.push(math)
                }
              },
              '',
            ],
          },
        },
      }
    </script>

    <script
      type="text/javascript"
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
    ></script>
  </body>
</html>
